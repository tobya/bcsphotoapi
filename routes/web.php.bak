<?php

/*
|--------------------------------------------------------------------------
| Application Routes
|--------------------------------------------------------------------------
|
| Here is where you can register all of the routes for an application.
| It is a breeze. Simply tell Lumen the URIs it should respond to
| and give it the Closure to call when that URI is requested.
|
*/

$router->get('/', function () use ($router) {
    return $router->app->version();
});

/*
  Get All Galleries or all Galleries for specific Year.
*/
$router->get('/all', 'photoController@AllGalleryInfo_ConvertDBPath');
$router->get('/all/{year}', 'photoController@YearPhotoInfo');
$router->get('/allconvertzen', 'photoController@AllGalleryInfo_ConvertDBPath');
$router->get('/allloadrecipepaths', 'photoController@AllGalleryInfo_IncludingPathIDs');
$router->get('/gallerypathurls', 'photoController@AllGalleryPathURLs');

// Get Random Image
$router->get('/images/random/', 'photoController@GalleryImageRandom');
$router->get('/images/random/{year}/', 'photoController@GalleryImageRandomYear');
$router->get('/images/random/{year}/{month}/', 'photoController@GalleryImageRandomMonth');
$router->get('/images/random/{year}/{month}/{day}', 'photoController@GalleryImageRandomDay');

// Get Specific Gallery info for date.
$router->get('/gallery/{demodate}', 'photoController@GalleryAlbum');
$router->get('/gallery/{demodate}/nocache', 'photoController@GalleryAlbum_noCache');

// Return Gallery as basic HTML rather than JSON
$router->get('/gallery/{demodate}/html/', 'photoController@HTMLGalleryAlbum');
$router->get('/gallery/{demodate}/html/{template}', 'templateController@HTMLGalleryAlbum');



$router->get('/purgecache/', 'photoController@PurgeCache');

/*
// Might be useful

function getListPath($ZenLink){
    //echo '<P>' . $ZenLink;
    $ZenLink =    trim($ZenLink, '/');
    @list($Year,$Course,$Week,$Date,$tmp) = explode('/', $ZenLink);
    // echo "This is the  [$Week ]";

     // echo "<P>$Year, $Course, $Week, $Date, $tmp";

    $Course = "12 Week " . MonthName($Course);
    $Week = WeekName($Week);
     // echo "--$Week--";
    //  $Week = 1;
    if ($Week == ''){$RecipeLink = 'None';}else {
    $DayofWeek = date('l',strtotime(urldecode($Date)));

    //Get list link, no % after week, may bec aught out by extra space, but is needed to avoid 1, 10, 11, 12
    $RecipeLink = "Lists\\Courses\\$Year\\$Course%\\%Week $Week\\%$DayofWeek%\\";
  //  echo $RecipeLink;
  }
    return $RecipeLink;
    //Lists\Courses\2013\12 Week January\Week 4\Thursday\PM Demo\

    ///2013/12%20Week%20Jan/Week9/Thu%207th%20Mar%202013/page/2
  }
*/

